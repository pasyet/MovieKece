(self["webpackChunkmovie"]=self["webpackChunkmovie"]||[]).push([[735],{6735:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 offset-md-3"},[n("h2",{staticClass:"text-center text-dark mt-5"},[t._v("Login Form")]),n("div",{staticClass:"text-center mb-5 text-dark"},[t._v(" Login to access your account! ")]),n("div",{staticClass:"card my-5"},[n("form",{staticClass:"card-body cardbody-color p-lg-5",attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.loginSubmit.apply(null,arguments)}}},[t._m(0),n("div",{staticClass:"mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"login-email",placeholder:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),n("div",{staticClass:"mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"login-password",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._m(1),n("div",{staticClass:"form-text text-center mb-5 text-dark",attrs:{id:"emailHelp"}},[t._v(" Not Registered? "),n("a",{staticClass:"text-dark fw-bold",attrs:{href:"#"}},[n("router-link",{attrs:{to:"/register"}},[t._v("Create an Account")])],1)]),n("div",{staticClass:"social-auth-links text-center mt-2 mb-3"},[n("GoogleLogin",{attrs:{params:t.params,renderParams:t.renderParams,onSuccess:t.onSuccess,onFailure:t.onFailure}})],1)])])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("img",{staticClass:"img-fluid profile-image-pic img-thumbnail rounded-circle my-3",attrs:{src:"https://cdn.pixabay.com/photo/2016/03/31/19/56/avatar-1295397__340.png",width:"200px",alt:"profile"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-color px-5 mb-5 w-100",attrs:{type:"submit"}},[t._v("Login")])])}],r=n(8964),s=n.n(r),a=n(7099),c=n.n(a),u={name:"LoginPage",data:function(){return{user:{email:"",password:""},renderParams:{width:250,height:50,longtitle:!0},params:{client_id:"924524534896-k6es6g7ne1tegoa0qc542vlombulcbvi.apps.googleusercontent.com"}}},components:{GoogleLogin:s()},methods:{loginSubmit:function(){var t=this;this.$store.dispatch("login",this.user).then((function(e){var n=e.data;c().fire({icon:"success",title:"Welcome to ".concat(t.user.email),showConfirmButton:!1,timer:1500}),localStorage.setItem("access_token",n.access_token),localStorage.setItem("email",t.user.email),t.$store.commit("SET_EMAIL",t.user.email),t.$router.push("/")})).catch((function(t){c().fire({icon:"error",title:"Oops...",text:t.response.data.messages})}))},onSuccess:function(t){var e=t.getAuthResponse().id_token;this.$store.dispatch("onSignIn",e),this.$router.push("/")},onFailure:function(t){console.log(t)}},computed:{email:function(){return this.$store.state.email}}},l=u,d=n(1001),m=(0,d.Z)(l,i,o,!1,null,null,null),f=m.exports},8964:function(t,e,n){var i,o,r,s=n(7964)["default"];n(1539),n(8783),n(3948),n(2222),function(n,a){"object"==s(e)?a(e):(o=[e],i=a,r="function"===typeof i?i.apply(e,o):i,void 0===r||(t.exports=r))}(0,(function(t){"use strict";var e,n,i=function(t){return e?Promise.resolve(e):(n||(n=function(t){return new Promise((function(n,i){window.onGapiLoad=function(){window.gapi.load("auth2",(function(){try{e=window.gapi.auth2.init(Object.assign({},t))}catch(t){i({err:"client_id missing or is incorrect, or if you added extra params maybe they are written incorrectly, did you add it to the component or plugin?"})}n(e)}))}}))}(t)),n)},o=function(t,e){return t?t[e]():Promise.reject({err:"Script not loaded correctly, did you added the plugin or the client_id to the component?"})},r={load:function(t){return Promise.all([i(t),new Promise((function(t,e){if(!document.getElementById("auth2_script_id")){var n=document.createElement("script");n.setAttribute("src","https://apis.google.com/js/platform.js?onload=onGapiLoad"),n.setAttribute("async",!0),n.setAttribute("defer","defer"),n.setAttribute("id","auth2_script_id"),document.head.appendChild(n)}t()}))]).then((function(t){return t[0]}))},signIn:function(){return o(e,"signIn")},signOut:function(){return o(e,"signOut")},isSignedIn:function(){return o(e.isSignedIn,"get")},currentUser:function(){return o(e.currentUser,"get")},grantOfflineAccess:function(){return o(e,"grantOfflineAccess")}},s=0,a=function(t,e,n,i,o,r,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1);var l,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):e&&(l=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(d.functional){var m=d.render;d.render=function(t,e){return l.call(e),m(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,l):[l]}return n}({render:function(){var t=this.$createElement,e=this._self._c||t;return this.renderParams&&!this.logoutButton?e("div",{attrs:{id:this.id},on:{click:this.handleClick}}):e("button",{attrs:{id:this.id},on:{click:this.handleClick}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"GoogleLogin",props:{params:{type:Object,required:!0},onCurrentUser:{type:Function,default:function(){}},onSuccess:{type:Function,default:function(){}},onFailure:{type:Function,default:function(){}},logoutButton:{type:Boolean,default:!1},renderParams:{type:Object,required:!1}},beforeCreate:function(){this.id="google-signin-btn-".concat(s++)},methods:{handleClick:function(){var t=this,e=this.logoutButton?"signOut":"signIn";r[e]().then((function(e){return t.onSuccess(e)})).catch((function(e){return t.onFailure(e)}))}},mounted:function(){var t=this;r.load(this.params).then((function(){t.renderParams&&!1===t.logoutButton&&window.gapi.signin2.render(t.id,t.renderParams),r.isSignedIn()&&t.onCurrentUser(r.currentUser())})).catch((function(t){console.log(t)}))}},void 0,!1,void 0,void 0,void 0),c={install:function(t,e){t.GoogleAuth=r.load(e)}};t.GoogleLogin=a,t.LoaderPlugin=c,t.default=a,Object.defineProperty(t,"__esModule",{value:!0})}))}}]);
//# sourceMappingURL=735-legacy.2975ab53.js.map